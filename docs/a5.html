<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, maximum-scale=1.0" />
    
    <title>Kai Atalig â€“ Assignment 5: Transistors!</title>

    <link href="style.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <h1>Assignment 5: Transistors!</h1>
    <div class="header">
      <p>
        This page documents Assignment 5. The goal of this assignment was to design a
        circuit that responds to a remote input using an external Arduino library.
        The project uses an IR receiver to detect button presses and control LEDs through
        PWM output, allowing the lights to turn off or flash repeatedly depending on
        user interaction.
      </p>
      <br><br>
      <br><br>
    </div>

    <!-- ===================== -->
    <!-- Schematic Section -->
    <!-- ===================== -->
    <h2>Schematic</h2>
    <img src="a5schematic.webp" />
    <p>
      This schematic shows the Arduino connected to an IR receiver module and an LED
      output circuit with a resistor. The receiver provides 
      digital input signals, while the LED is connected to a PWM-capable pin so that
      brightness can be controlled using analogWrite().
    </p>
    <br><br>

    <!-- ===================== -->
    <!-- Circuit Photo Section -->
    <!-- ===================== -->
    <h2>Circuit on Breadboard</h2>
    <img src="a5circuit.webp" />
    <p>
      This image shows the physical implementation of the circuit on a breadboard.
    </p>
    <br><br>

    <!-- ===================== -->
    <!-- Arduino Code Section -->
    <!-- ===================== -->
    <h2>Arduino Firmware</h2>
    <p>
      Below is the Arduino code used to decode remote control signals and change the
      LED behavior. One button disables the light output, while another activates a
      repeating flashing pattern controlled with PWM.
    </p>
    <pre>
<code>
#include <IRremote.hpp>

// Store the pin connected to the IR receiver 
const int IRreceiverPin = 8;

// Store the pin connected to the LEDs
const int LEDsPin = 9;

// Track whether flashing  is enabled
bool flashMode = false;

// Store current brightness level
int brightness = 0;


void setup() {

  // Initialize the IR receiver and enable onboard feedback LED
  IrReceiver.begin(IRreceiverPin, ENABLE_LED_FEEDBACK);

  // Configure LED pin
  pinMode(LEDsPin, OUTPUT);
}

void loop() {

  // Check if a new  signal has been detected
  if (IrReceiver.decode()) {

    // If remote button 1 is detected
    if (IrReceiver.decodedIRData.decodedRawData == 0xF30CFF00) {

      // Enable flashing 
      flashMode = true;
    }

    // If remote button 0 is detected
    if (IrReceiver.decodedIRData.decodedRawData == 0xE916FF00) {

      // Disable flashing 
      flashMode = false;

      // Turn LEDs off
      brightness = 0;

      // Apply the value to the LEDs
      analogWrite(LEDsPin, brightness);
    }

    // Reset receiver to listen for the next command
    IrReceiver.resume();
  }


  // Do blinking pattern when flash mode is active
  if (flashMode == true) {

    // Toggle brightness between fully on and fully off
    if (brightness == 0) {
      brightness = 255;
    }
    else {
      brightness = 0;
    }

    // Send  brightness value to LED pin
    analogWrite(LEDsPin, brightness);

    // Pause to control flashing
    delay(300);
  }
}
    </code>
    </pre>

    <!-- ===================== -->
    <!-- Animated GIF Section -->
    <!-- ===================== -->
    <h2>Circuit Operation</h2>
    <img src="a5gif.gif" />
    <p>
      This animated GIF demonstrates the circuit in operation.
    </p>
    <br><br>

    <!-- ===================== -->
    <!-- Additional Questions -->
    <!-- ===================== -->
    <h2>Additional Questions</h2>

    <h3>1: MOSFET Maximum Current</h3>
    <p>
      The MOSFET used in this project must be identified by reading the label printed on it. 
      We have an IRLZ44N, therefore the maximum continuous drain current (between pins 2 and 3) is 47 Amps.
      This is assuming a contant temperature of 25 degrees Celsius.
    </p>
    <br><br>

    <h3>2: Motor Driver Circuit Schematic</h3>
    <img src="a5q1.webp" />
    <br><br>

    <h3>3: Dual Motor Control Using L293D</h3>
    <p>
      Pseudocode for controlling motion:
      <br><br>
      Move both forward:<br>
      set Motor1InputA HIGH<br>
      set Motor1InputB LOW<br>
      set Motor2InputA HIGH<br>
      set Motor2InputB LOW<br><br>

      Move both backward:<br>
      set Motor1InputA LOW<br>
      set Motor1InputB HIGH<br>
      set Motor2InputA LOW<br>
      set Motor2InputB HIGH<br><br>

      One forward, one backward:<br>
      set Motor1InputA HIGH<br>
      set Motor1InputB LOW<br>
      set Motor2InputA LOW<br>
      set Motor2InputB HIGH<br><br>

      Reverse combination:<br>
      set Motor1InputA LOW<br>
      set Motor1InputB HIGH<br>
      set Motor2InputA HIGH<br>
      set Motor2InputB LOW
    </p>
    <img src="a5q2.webp" />

  </body>
</html>
